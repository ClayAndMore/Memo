

## 安装

https://docs.docker.com/compose/install/

需要先安装Docker(Docker Engine 1.7.1+)

使用pip安装：

`pip install docker-compose` 

验证：

`docker-compose version`



遇到`'module' object has no attribute 'SSL_ST_INIT'`

```
rm -rf /usr/lib/python2.7/dist-packages/OpenSSL
rm -rf /usr/lib/python2.7/dist-packages/pyOpenSSL-0.15.1.egg-info
sudo pip install pyopenssl

```



二进制安装：

https://github.com/docker/compose/releases



卸载：

`pip uninstall docker-compose`

二进制直接删掉

### 命令说明

环境变量可以用来配置Compose的行为：

### 环境变量



## 问题

### "./docker-compose.yml" is unsupported

docker-compose的版本和 ./docker-compose.yml 要求的版本对应不上

docker-compose 的版本可以用 docker-compose --version 进行检查

解决方式：

* 可以通过更改yaml文件中的version来更改，但这个不是有效的更改，有些版本会兼容
* 不要使用apt install来安装，通过官网推荐的方式

https://docs.docker.com/compose/install/



对于 docker-compose 编排格式与 docker-engine 之间的关系，下面这张表（摘自官网）有清晰的对照：

<table>
<thead>
<tr>
<th style="text-align:left"><strong>Compose file format</strong></th>
<th style="text-align:left"><strong>Docker Engine release</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">3.7</td>
<td style="text-align:left">18.06.0+</td>
</tr>
<tr>
<td style="text-align:left">3.6</td>
<td style="text-align:left">18.02.0+</td>
</tr>
<tr>
<td style="text-align:left">3.5</td>
<td style="text-align:left">17.12.0+</td>
</tr>
<tr>
<td style="text-align:left">3.4</td>
<td style="text-align:left">17.09.0+</td>
</tr>
<tr>
<td style="text-align:left">3.3</td>
<td style="text-align:left">17.06.0+</td>
</tr>
<tr>
<td style="text-align:left">3.2</td>
<td style="text-align:left">17.04.0+</td>
</tr>
<tr>
<td style="text-align:left">3.1</td>
<td style="text-align:left">1.13.1+</td>
</tr>
<tr>
<td style="text-align:left">3.0</td>
<td style="text-align:left">1.13.0+</td>
</tr>
<tr>
<td style="text-align:left">2.4</td>
<td style="text-align:left">17.12.0+</td>
</tr>
<tr>
<td style="text-align:left">2.3</td>
<td style="text-align:left">17.06.0+</td>
</tr>
<tr>
<td style="text-align:left">2.2</td>
<td style="text-align:left">1.13.0+</td>
</tr>
<tr>
<td style="text-align:left">2.1</td>
<td style="text-align:left">1.12.0+</td>
</tr>
<tr>
<td style="text-align:left">2.0</td>
<td style="text-align:left">1.10.0+</td>
</tr>
<tr>
<td style="text-align:left">1.0</td>
<td style="text-align:left">1.9.1.+</td>
</tr>
</tbody>
</table>

