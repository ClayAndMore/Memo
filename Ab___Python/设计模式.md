---
title: 设计模式
date: 2016-05-25 14:36:35
categories: "内功"
tags: [设计模式]
---

## 写在前面
用面向对象的思维去思考问题，使得代码容易维护，扩展，复用。
可以将面向对象中，类理解为古代印刷字体的模子，对象理解成复刻出的字。没改进时，一句话一个模子，改进后的活字印刷就是一个字一个模子，容易维护，扩展，复用，这样是不是清晰很多了呢？



耦合性：是也叫耦合度，是对模块间关联程度的度量。
我们通过程序的封装、继承、多态把程序的耦合性降低。这样在修改需求时，修改相关类就可以，而不是修改整个文件。

几个说明：

* 尽可能解决重复代码。
* swich的性能比if好，但是他不能判断条件，只是值相等。
* 仅对程序中呈现出频繁变化的那部分做出抽象，对于程序中每个部分可以做出抽象不好，拒绝不成熟的抽象和抽象本身一样重要。
* **符合设计模式不一定等于做的对**



## UML类图

![](http://ovolonhm1.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-08-26%20%E4%B8%8A%E5%8D%888.38.07.png)



* 类图分三层，第一层显示类的名称，如果是抽象类，则就用斜体显示。第二层是类的特性，通常就是字段和属性。第三层是类的操作，通常是方法或行为. 如动物类图
* 前面的符号，+ 表示public，- 表示private，# 表示protected。
* 继承关系用空心三角形 + 实线来表示的。如 鸟和动物
* 实现接口用空心三角形 + 虚线来表示。 如大雁和飞翔
* 当一个类知道另一个类时，可以用关联（association）。关联关系用实线箭头来表示。如企鹅和气候两个类，企鹅需要知道气候的变化。
* 聚合表示一种弱的拥有关系，体现的是A对象可以包含B对象，但B对象不是A对象的一部分。聚合关系用空心的菱形 + 实线箭头来表示，大雁和雁群这两个类，大雁是群居动物，每只大雁都是属于一个雁群。
* 组合是一种强的拥有关系，体现了严格的部分和整体的关系，部分和整体的生命周期一样。在这里鸟和其翅膀就是组合关系，因为它们是部分和整体的关系，并且翅膀和鸟的生命周期是相同的。组合关系用实习的菱形 + 实线箭头来表示。另外，你会注意到合成关系的连线两端还有一个数字1和数字2，这被称为基数。表明这一端的类可以有几个实例。
* 依赖关系（Dependency），用虚线箭头来表示。动物，氧气，水的关系，






## 原则
### 1.单一职责原则
就一个类而言，应该仅有一个能引起它变化的原因。

### 2.开放-封闭原则
类、模块、函数等应该可以扩展，而不能修改。就是多扩展，比如一国两制方针，社会主义制度不变，港澳就是扩展。

### 3.里氏替换原则（LSP）
* 子类必须能够替换掉它的父类。
* 只有当子类可以替换掉父类，软件单位的功能不受影响时，父类才能真正的被复用，而子类也能够在父类的基础上添加新的行为。
* 由于这样的原则，才使得开放-封闭原则成为了可能，使得父类类型的模块在无需修改的情况下就可以扩展。
  ​
### 4.依赖倒转原则
针对接口编程，比如主板上的内存条，cpu，都是对接口进行高内聚的。



## 模式
### 1.简单工厂模式
一个单独的类来创造各种实例，这就是工厂。如计算器的加减乘除。
<br>
### 2.策略模式
它定义了算法家族，就是算法分别封装起来，让它们之间可以相互替换，算法的变化不会影响到用算法的客户。如商场的打折算法。
<br>
### 3.后续

<br>
### 4.