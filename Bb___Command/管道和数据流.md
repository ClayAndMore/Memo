### 管道

管道是一种通信机制，常用于进程间的通信（也可以用socket网络通信），它表现出的形式就是将前面的每一个进程的输出直接作为下一个进程的输入。

#### `|`

`ls -al /etc | less`

将ls命令的输出做下一个命令less的输入，然后可以一行一行的看。

#### cut

打印每一行的某一字段 。打印/etc/passwd文件以：为分隔符的第一个字段和第六个字段：

`cut /etc/passwd -d ':' -f 1,6`

打印每一行的前N个字符：

```
# 前五个（包含第五个）
$ cut /etc/passwd -c -5
# 前五个之后的（包含第五个）
$ cut /etc/passwd -c 5-
# 第五个
$ cut /etc/passwd -c 5
# 2到5之间的（包含第五个）
$ cut /etc/passwd -c 2-5
```

#### grep

在文本中或stdin（输入）中查找匹配字符串

一般形式：

`grep [命令选项]... 用于匹配的表达式 [文件]...`

可结合正则表达式表现强大的功力：

查看环境变量中以"yanlou"结尾的字符串

`$ export | grep ".*yanlou$"`

当前目录下以py结尾文件内容中包含：AutoField的文件。

`grep -nr 'AutoField' *.py`



#### wc

用于输出文件中，行，单词，字节数。

输出文件夹下 的行数： `ls | wc -l`

输出`/etc/passwd`文件的统计信息：

`wc /etc/passwd`

#### sort

将输入按照一定方式排序，然后再输出,它支持的排序有按字典排序,数字排序，按月份排序，随机排序，反转排序，指定特定字段进行排序等等。

#### uniq

`uniq`命令可以用于过滤或者输出重复行。



### 数据流重定向

经常用到的两个重定向操作：

`>` 输出到文件，如果存在，则清空，不存在则创建

`>>`追加到文件，如果存在，则追加，不存在则创建

`<` 的作用，就是将原本应该由键盘输入的数据经由文件读入。

linux默认提供了三个特殊设备，用于终端的显示和输出，分别为`stdin`（标准输入,对应于你在终端的输入），`stdout`（标准输出，对应于终端的输出），`stderr`（标准错误输出，对应于终端的输出）。

| 文件描述符 | 设备文件          | 说明   |
| ----- | ------------- | ---- |
| `0`   | `/dev/stdin`  | 标准输入 |
| `1`   | `/dev/stdout` | 标准输出 |
| `2`   | `/dev/stderr` | 标准错误 |

文件描述符：文件描述符在形式上是一个非负整数。实际上，它是一个索引值，指向内核为每一个进程所维护的该进程打开文件的记录表。当程序打开一个现有文件或者创建一个新文件时，内核向进程返回一个文件描述符。在程序设计中，一些涉及底层的程序编写往往会围绕着文件描述符展开。但是文件描述符这一概念往往只适用于 UNIX、Linux 这样的操作系统。



##### tee

将屏幕输出同时保存到文件：`sh test.sh | tee file.txt`
