### damon 和 service

简单的说，系统为了某些功能必须要提供一些服务 （不论是系统本身还是网络方面），这个
服务就称为 service 。 

达成这个 service 的程序我们就称呼他为 daemon 

daemon 既然是一只程序执行后的程序，那么 daemon 所处的那个原本的程序通常是如
何命名的呢 （daemon 程序的命名方式）?

这些服务的名称被创建之后，被挂上 Linux 使用时，通常在服务的名称之后会加上一个 d ，

例如例行性命令的创建的 at, 与 cron 这两个服务， 他的程序文件名会被取为 atd 与 crond，这个 d 代表的就是 daemon 的意思



### init

较早年间的init 系统服务管理机制：

系统核心第一支调用的程序是 init ， 然后 init 去唤起所有的系统所需要的服务

几个特色：

* 服务的启动、关闭与观察等方式： 

  所有的服务启动脚本通通放置于 /etc/init.d/ 下面，基本上都是使用 bash shell script 所写成的脚本程序，需要启动、关闭、重新启动、观察状态时， 可以通过如下的方式来处理：
  启动：/et hddit.d/daemon start
  关闭：/etc/init.d/daemon stop
  重新启动：/etc/init.d/daemon restart
  状态观察：/etc/init.d/daemon status

* 总管程序 （super daemon）：由特殊的 xinetd（待补充） 或 inetd（待补充） 这两个总管程序提供 socket
  对应或 port 对应的管理。当没有用户要求某 socket 或 port 时， 所需要的服务是不
  会被启动的。若有用户要求时， xinetd 总管才会去唤醒相对应的服务程序。当该要
  求结束时，这个服务也会被结束掉～ 因为通过 xinetd 所总管，因此这个家伙就被称
  为 super daemon。好处是可以通过 super daemon 来进行服务的时程、连线需求等
  的控制，缺点是唤醒服务需要一点时间的延迟。

* 服务的相依性问题，需要手工启动相依赖的服务

* init 可以根据使用者自订的执行等级 （runlevel：0~6） 来唤醒不同的服务，以进入不同的操作界面。具体可看进程信息里的init 服务。

  而各个执行等级的启动脚本是通过 /etc/rc.d/rc[0-6]/SXXdaemon 链接到 /etc/init.d/daemon ，

  ```
  [root@bogon ~]# ls /etc/rc.d/rc3.d/
  K01lxc                K45dnsmasq            K75ntpdate            K92pppoe-server       S12rsyslog            S25cups               S80postfix            S99libvirt-guests
  K01numad              K46radvd              K84NetworkManager     S02lvm2-monitor       S13iscsi              S25netfs              S84ksm                S99local
  K05wdaemon            K50snmpd              K84wpa_supplicant     S05cgconfig           S13rpcbind            S26acpid              S85ksmtuned           S99ng8w
  K10saslauthd          K50snmptrapd          K85ebtables           S07iscsid             S14nfslock            S26haldaemon          S89console-root       
  K14keepalived         K50vsftpd             K86cgred              S08ip6tables          S15mdmonitor          S26udev-post          S90crond              
  K15svnserve           K60nfs                K87restorecond        S09netcf-transaction  S19rpcgssd            S27pcscd              S91nmb                
  K30spice-vdagentd     K69rpcsvcgssd         K89netconsole         S10network            S22messagebus         S50kdump              S91smb                
  K35vncserver          K73winbind            K89rdisc              S11auditd             S24openct             S55sshd               S95docker             
  K36mysqld             K74ntpd               K92iptables           S11portreserve        S25blk-availability   S56xinetd             S97libvirtd    
  ```




### chkconfig

