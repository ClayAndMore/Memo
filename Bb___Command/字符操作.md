## linux 字符操作

### xargs

这样理解， 默认 xargs = echo,

```
[root@bogon publish]# cat tt
aaaaaaaaaaaaa
bbbbbbbbbbbbb
ccccccccccccc
[root@bogon publish]# cat tt | xargs
aaaaaaaaaaaaa bbbbbbbbbbbbb ccccccccccccc

```

将 | 前面命令的输出作为xargs(echo) 的**参数**。 最终等于 `echo [cat tt]`



无选项：

假如你有一个文件包含了很多你希望下载的URL，你能够使用xargs下载所有链接：

`cat url-list.txt | xargs wget -c`

这里用wget 替换了默认的echo



一些选项：

界定符： 遇到某个字符将其跳过，并算一个界定。默认界定符为空格和回合。

* -d #过滤某字符，如过滤b字符：

    ```
    [root@bogon]# cat tt | xargs -db
    aaaaaaaaaaaaa

    ccccccccccccc
    [root@bogon]# echo "nameXnameXnameXname" | xargs -dX
    name name name name
    ```

* -n 一行输出n个被界定符切过的元素

    ```
    [root@bogon]# echo 'a b c d e f' | xargs -n3
    a b c
    d e f
    ```

* -d  -n 一起使用

    ```\
    echo "nameXnameXnameXname" | xargs -dX -n2

    name name
    name name
    ```

* -I  获得被界定符切割后的每个参数，并可以接上脚本使用

    ```
    [root@bogon ]# cat arg.txt
    aaa
    bbb
    ccc
    [root@bogon]# cat sk.sh
    #!/bin/bash
    #sk.sh命令内容，打印出所有参数。

    echo $*
    [root@bogon]# cat arg.txt | xargs -I {} ./sk.sh -p {} -l
    -p aaa -l
    -p bbb -l
    -p ccc -l
    ===========
    复制所有图片文件到 /data/images 目录下：
    ls *.jpg | xargs -n1 -I cp {} /data/images
    ```

* -0 将\0作为定界符

    ```
    统计一个源代码目录中所有php文件的行数：
    find . -type f -name "*.php" -print0 | xargs -0 wc -l

    找所有的jpg 文件，并且压缩它们：
    find . -type f -name "*.jpg" -print | xargs tar -czvf images.tar.gz
    ```

    ​


### cut

两项功能

* 结合两个文件的输出到第三个文件：`cut f1 f2 > f3`
* 指定显示字段到输出端

cut命令主要是接受三个定位方法：

第一，字节（bytes），用选项-b

```
[root@bogon opt]# echo "abcd" | cut -b 1
a
[root@bogon opt]# echo "abcd" | cut -b 3
c
[root@bogon opt]# echo "天王盖地虎" | cut -b 3  #当然中文字符切一个字节是切不出来的
©
[root@bogon opt]# echo "天王盖地虎" | cut -b 4-6 #切片用法
王
```



第二，字符（characters），用选项-c

```
[root@bogon opt]# echo "abcd" | cut -c 3
c
[root@bogon opt]# echo "天王盖地虎" | cut -c 3
盖
```



第三，域（fields），用选项-f

先说下 -d , 意为着以什么为分割，默认是制表符分割



一般和-d 选项使用， 被分割的每个子项我们称之为域：

```
[root@bogon opt]# echo "天王盖地虎" | cut -d 王 -f 1
天
[root@bogon opt]# echo "天王盖地虎" | cut -d 王 -f 2
盖地虎
```



切片用法：

```
[root@bogon opt]# echo 'abcdef' | cut -c 1-3,6
abcf
[root@bogon opt]# echo 'abcdef' | cut -c -3
abc
[root@bogon opt]# echo 'abcdef' | cut -c 3-
cdef
[root@bogon opt]# echo 'abcdef' | cut -c 1-3,4-6
abcdef
```



### sed


### 格式化打印： printf
```shell
[dmtsai@study ~]$ printf '打印格式' 实际内容
选项与参数：
关于格式方面的几个特殊样式：
\a 警告声音输出
\b 倒退键（backspace）
\f 清除屏幕 （form feed）
\n 输出新的一行
\r 亦即 Enter 按键
\t 水平的 [tab] 按键
\v 垂直的 [tab] 按键
\xNN NN 为两位数的数字，可以转换数字成为字符。
关于 C 程序语言内，常见的变量格式
%ns 那个 n 是数字， s 代表 string ，亦即多少个字符；
%ni 那个 n 是数字， i 代表 integer ，亦即多少整数码数；
%N.nf 那个 n 与 N 都是数字， f 代表 floating （浮点），如果有小数码数，
假设我共要十个位数，但小数点有两位，即为 %10.2f 啰！
```
（printf.txt） 内容仅列出姓名与成绩：（用 [tab] 分隔）:
```shell
[dmtsai@study ~]$ printf '%s\t %s\t %s\t %s\t %s\t \n' $（cat printf.txt）
Name Chinese English Math Average
DmTsai 80 60 92 77.33
VBird 75 55 80 70.00
Ken 60 90 70 73.33
```
